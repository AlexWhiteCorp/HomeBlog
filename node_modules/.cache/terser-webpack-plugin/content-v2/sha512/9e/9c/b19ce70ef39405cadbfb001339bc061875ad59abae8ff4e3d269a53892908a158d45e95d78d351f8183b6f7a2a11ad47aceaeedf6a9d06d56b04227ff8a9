{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{29:function(n,t,e){\"use strict\";e.r(t);var o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e(\"div\",[n._m(0),n._v(\" \"),e(\"div\",{staticClass:\"date\",attrs:{id:\"post-date\"}}),n._v(\" \"),e(\"div\",{staticClass:\"text\",attrs:{id:\"post-text\"}}),n._v(\" \"),e(\"div\",{attrs:{id:\"comments-div\"}},[n._m(1),n._v(\" \"),n.auth?e(\"div\",{staticClass:\"comment row\",attrs:{id:\"add-comment\"}},[e(\"div\",{staticClass:\"comment-head row\"},[e(\"img\",{staticClass:\"comment-user-icon\",attrs:{src:n.usericon,alt:\"\"}}),n._v(\" \"),e(\"div\",{staticClass:\"comment-user-nickname\"},[e(\"strong\",[n._v(n._s(n.nickname))])])]),n._v(\" \"),e(\"textarea\",{staticClass:\"comment-text scroll\",attrs:{id:\"new-comment-text\",type:\"text\",placeholder:\"Введіть текст повідомлення...\"}}),n._v(\" \"),e(\"div\",{staticClass:\"greenButton add-comment-button\",attrs:{id:\"add-comment-button\"},on:{click:n.addNewComment}},[e(\"strong\",[n._v(\"Відправити\")])])]):e(\"div\",{staticClass:\"notAuthorizedText\"},[n._v(\"\\n            Тільки \"),e(\"strong\",[n._v(\"авторизовані\")]),n._v(\" користувачі можуть залишати коментарі.\\n            \"),e(\"a\",{staticClass:\"notAuthorizedText\",attrs:{href:\"/login\"}},[e(\"Strong\",[n._v(\"Ввійти\")])],1)]),n._v(\" \"),e(\"div\",{attrs:{id:\"comments\"}}),n._v(\" \"),n._m(2)])])};o._withStripped=!0;var i={data:function(){return{auth:FeData.auth,nickname:FeData.nickname,usericon:FeData.usericon}},mounted:function(){if(FeData.auth&&(document.getElementById(\"new-comment-text\").style.minWidth=document.getElementsByClassName(\"comment-head\")[0].offsetWidth-70+\"px\",document.getElementById(\"new-comment-text\").onfocus=function(){this.style.minHeight=\"100px\"},document.getElementById(\"comments-div\").style.display=\"none\"),null==localStorage.getItem(document.location.href.split(\"//\")[1]))e(\"/post/\"+this.$route.params.topicName+\"/\"+this.$route.params.postId+\".json\");else{var n=JSON.parse(localStorage.getItem(document.location.href.split(\"//\")[1]));(new Date).getTime()-n.time>100?e(\"/post/\"+this.$route.params.topicName+\"/\"+this.$route.params.postId+\".json\"):(t(n),console.log(\"Loaded from cache\"))}function t(n){document.getElementById(\"post-title\").innerText=n.title,document.getElementById(\"post-date\").innerText=n.date,document.getElementById(\"post-text\").innerHTML=n.preview+n.content,document.getElementById(\"comments-div\").style.display=\"block\"}function e(n){console.log(\"Go to Server...\"),axios.get(n).then(function(n){n.data.time=(new Date).getTime(),localStorage.setItem(document.location.href.split(\"//\")[1],JSON.stringify(n.data)),t(n.data)})}var o,i,a=1;o=document.getElementById(\"loadingText\"),i=setInterval(function(){o.innerText.indexOf(\"...\")>-1?o.innerText=o.innerText.replace(\"...\",\"\"):o.innerText+=\".\"},450),axios.get(\"/comments/load\",{params:{topic:document.location.href.split(\"/\")[4],article:document.location.href.split(\"/\")[5],page:a}}).then(function(n){for(var t in a++,clearInterval(i),o.style.display=\"none\",n.data)r.innerHTML+='<div class=\"comment\">\\n                    <div class=\"comment-head row\">\\n                        <img class=\"comment-user-icon\" src=\"'+n.data[t].icon+'\" alt=\"\">\\n                        <div class=\"comment-user-nickname\"><strong>'+n.data[t].nickname+'</strong></div>\\n                        <div class=\"comment-date\">'+n.data[t].date+'</div>\\n                    </div>\\n                    <div class=\"comment-text scroll\">'+n.data[t].text+\"</div>\\n                </div>\"});var r=document.getElementById(\"comments\")},methods:{addNewComment:function(){document.getElementById(\"new-comment-text\").style.minHeight=\"40px\",\"\"!=document.getElementById(\"new-comment-text\").value&&axios.get(\"/comments/add\",{params:{topic:document.location.href.split(\"/\")[4],article:document.location.href.split(\"/\")[5],text:document.getElementById(\"new-comment-text\").value}}).then(function(n){if(1==n.data.id){var t=document.getElementById(\"comments\"),e=document.getElementById(\"user-icon\").src,o=document.getElementById(\"nickname\").innerText.replace(\"Вітаю, \",\"\").replace(\"!\",\"\"),i=n.data.text,a=document.getElementById(\"new-comment-text\").value;t.innerHTML='<div class=\"comment\">\\n                <div class=\"comment-head row\">\\n                    <img class=\"comment-user-icon\" src=\"'+e+'\" alt=\"\">\\n                    <div class=\"comment-user-nickname\"><strong>'+o+'</strong></div>\\n                    <div class=\"comment-date\">'+i+'</div>\\n                </div>\\n                <div class=\"comment-text scroll\">'+a+\"</div>\\n            </div>\"+t.innerHTML,document.getElementById(\"new-comment-text\").value=\"\"}})}}},a=(e(55),e(0)),r=Object(a.a)(i,o,[function(){var n=this.$createElement,t=this._self._c||n;return t(\"div\",{staticClass:\"title\"},[t(\"strong\",{attrs:{id:\"post-title\"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t(\"div\",{staticClass:\"commentsHeader\",attrs:{id:\"commentsHeader\"}},[t(\"strong\",[this._v(\"Коментарі\")])])},function(){var n=this.$createElement,t=this._self._c||n;return t(\"div\",{attrs:{id:\"loading\"}},[t(\"strong\",{attrs:{id:\"loadingText\"}},[this._v(\"Завантаження коментарів\")])])}],!1,null,null,null);r.options.__file=\"src/main/resources/js/components/Post.vue\";t.default=r.exports},53:function(n,t,e){var o=e(56);\"string\"==typeof o&&(o=[[n.i,o,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,i);o.locals&&(n.exports=o.locals)},55:function(n,t,e){\"use strict\";var o=e(53);e.n(o).a},56:function(n,t,e){(n.exports=e(2)(!1)).push([n.i,\"\\n.in-content{\\n    text-align: left;\\n    color: #091d09;\\n}\\n.title{\\n    margin: 15px 0px 0px 30px;\\n\\n    text-align: left;\\n    font-size: 28px;\\n    line-height: 30px;\\n    color: #055f24;\\n}\\n.date{\\n    margin: 0px 0px 0px 30px;\\n\\n    text-align: left;\\n    font-size: 16px;\\n    color: #055f24;\\n}\\n.img{\\n    background: grey;\\n    height: 250px;\\n    width: 70%;\\n    margin: 10px 15% 10px 15%;\\n}\\n.text{\\n    margin: 10px 20px 20px 25px;\\n\\n    text-align: left;\\n    font-size: 20px;\\n    line-height: 27px;\\n}\\n.commentsHeader{\\n    border-bottom: 1px solid #055f24;\\n    margin: 10px 70px 20px 70px;\\n\\n    font-size: 18px;\\n}\\n.comment{\\n    margin: 15px 70px 15px 70px;\\n}\\n.comment-head{\\n}\\n.comment-user-icon{\\n    float: left;\\n    max-width: 35px;\\n    border: 1px solid transparent;\\n    border-radius: 1000px;\\n    overflow: hidden;\\n}\\n.comment-user-nickname{\\n    float: left;\\n    margin: 0px 0px 0px 10px;\\n}\\n.comment-date{\\n    float: right;\\n}\\n.comment-text{\\n    background: none;\\n    min-height: 40px;\\n    max-height: 100px;\\n    margin: -12px 0px 0px 45px;\\n    border: 1px solid #055f24;\\n    border-radius: 3px;\\n    padding: 7px 10px 7px 10px;\\n    overflow-y: auto;\\n\\n    text-align: left;\\n    color: #091d09;\\n    font-size: 16px;\\n    line-height: 20px;\\n}\\n.add-comment-button{\\n    float: right;\\n    width: fit-content;\\n    height: fit-content;\\n    margin: 10px 0px 0px 45px;\\n}\\n#new-comment-text{\\n    background: #aff5af;\\n    padding: 2px 10px 7px 10px;\\n    resize: none;\\n}\\n.notAuthorizedText{\\n    margin: 35px 0px 50px 0px;\\n\\n    text-align: center;\\n    font-size: 20px;\\n    filter: brightness(1.5);\\n}\\na.notAuthorizedText{\\n    border-bottom: 1px solid #091d09;\\n}\\na.notAuthorizedText:hover{\\n    color: #193e19;\\n}\\n#loading{\\n    margin: 0px 0px 50px 0px;\\n\\n    text-align: center;\\n    font-size: 24px;\\n    color: #091d09;\\n}\\n@media screen and (max-width: 640px) {\\n.in-content{\\n        margin: 10px 10px 15px 5px;\\n\\n        text-align: left;\\n}\\n.title{\\n        margin: 5px 0px 0px 5px;\\n\\n        text-align: left;\\n        font-size: 20px;\\n        line-height: 30px;\\n}\\n.date{\\n        margin: 0px 0px 0px 15px;\\n\\n        text-align: left;\\n        font-size: 16px;\\n        color: #055f24;\\n}\\n.img{\\n        background: grey;\\n        height: 250px;\\n        width: 70%;\\n        margin: 10px 15% 10px 15%;\\n}\\n.text{\\n        margin: 10px 5px 20px 10px;\\n\\n        text-align: left;\\n        font-size: 18px;\\n        line-height: 28px;\\n}\\n.commentsHeader{\\n        border-bottom: 1px solid #055f24;\\n        margin: 10px 20px 15px 15px;\\n        padding-bottom: 3px;\\n\\n        font-size: 20px;\\n}\\n.comment{\\n        margin: 15px 10px 15px 10px;\\n}\\n.comment-user-icon{\\n        float: left;\\n        max-width: 35px;\\n        border: 1px solid transparent;\\n        border-radius: 1000px;\\n        overflow: hidden;\\n}\\n.comment-user-nickname{\\n        float: left;\\n        margin: 0px 0px 0px 10px;\\n}\\n.comment-date{\\n        float: right;\\n}\\n.comment-text{\\n        background: none;\\n        min-height: 40px;\\n        max-height: 100px;\\n        margin: -12px 0px 0px 45px;\\n        border: 1px solid #055f24;\\n        border-radius: 3px;\\n        padding: 7px 10px 7px 10px;\\n        overflow-y: auto;\\n\\n\\n        text-align: left;\\n        color: #091d09;\\n        font-size: 16px;\\n        line-height: 20px;\\n}\\n.add-comment-button{\\n        float: right;\\n        width: fit-content;\\n        height: fit-content;\\n        margin: 10px 0px 0px 45px;\\n}\\n#new-comment-text{\\n        background: #aff5af;\\n        padding: 2px 10px 7px 10px;\\n        resize: none;\\n}\\n.notAuthorizedText{\\n        margin: 35px 0px 50px 0px;\\n\\n        text-align: center;\\n        font-size: 20px;\\n        filter: brightness(1.5);\\n}\\na.notAuthorizedText{\\n        border-bottom: 1px solid #091d09;\\n}\\na.notAuthorizedText:hover{\\n        color: #193e19;\\n}\\n#loading{\\n        margin: 0px 0px 50px 0px;\\n\\n        text-align: center;\\n        font-size: 24px;\\n        color: #091d09;\\n}\\n}\\n\",\"\"])}}]);","extractedComments":[]}